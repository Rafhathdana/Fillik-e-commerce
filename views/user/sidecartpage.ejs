
<script>
    function deleteItem(id) {
      console.log(id);
      fetch("/deleteFromCart", {
        method: "delete",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          id: id,
        }),
      })
        .then((response) => response.json())
        .then((data) => {
          if (data.success) {
            swal("Item deleted from cart !");
            window.location.reload(); // fixed the typo here
          }
        })
        .catch((error) => {
          swal("Error deleting product from cart: " + error); // updated error message to reflect the action being performed
        });
    }
    function deleteItem(id, size) {
      console.log(id, size);
      fetch("/deleteFromCart", {
        method: "delete",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          id: id,
          size: size,
        }),
      })
        .then((response) => response.json())
        .then((data) => {
          if (data.success) {
            swal({
              title: "Item deleted from cart !",
              icon: "success",
            }).then(() => {
              window.location.reload();
            }); // fixed the typo here
          }
        })
        .catch((error) => {
          swal("Error deleting product from cart: " + error); // updated error message to reflect the action being performed
        });
    }
  </script>
  
  <script>
    function viewCart() {
      fetch("/postFromCart", {
        method: "post",
        headers: {
          "Content-Type": "application/json",
        },
      })
        .then((response) => response.json())
        .then((data) => {
          if (data.success) {
            var cartList = addCarted(data.items);
            var cartcount = data.items.length;
            var notifyEl = $("#cartvalue");
  
            console.log(cartcount);
            $("#cartItemsList").replaceWith(cartList);
            notifyEl.attr("data-notify", cartcount);
            swal("Item  added to cart !", "success");
          }
        })
        .catch((error) => {
          swal("Error adding product to cart: " + error);
        });
    }
    
  </script>
  